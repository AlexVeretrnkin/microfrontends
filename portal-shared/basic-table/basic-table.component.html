<section class="table border-radius_16 d-flex flex-column flex-1"
         [class.table-footer__filter]="!isTableModalShown"
>
  <div class="h-64 pl-16 pr-16 d-flex align-items-center">
    <h4 class="heading mb-0 mr-auto">{{data?.heading}}</h4>

    <div class="d-flex align-items-center">
      <div class="disabled-item bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32
               d-flex align-items-center justify-content-center"
           *ngIf="!isActionExcluded(actionEnum.filter)"
           (click)="emitAction(actionEnum.filter)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#dots-triangle-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32
           d-flex align-items-center justify-content-center"
           [class.disabled-item]="isActionDisabled | async"
           *ngIf="!isActionExcluded(actionEnum.export)"
           (click)="emitAction(actionEnum.export)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#export-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="disabled-item bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32
                  d-flex align-items-center justify-content-center"
           *ngIf="!isActionExcluded(actionEnum.more)"
           (click)="emitAction(actionEnum.more)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#more-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32 button-interaction
           d-flex align-items-center justify-content-center"
           [class.disabled-item]="isActionDisabled | async"
           *ngIf="!isActionExcluded(actionEnum.add)"
           (click)="emitAction(actionEnum.add)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#plus-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32 button-interaction
           d-flex align-items-center justify-content-center"
           *ngIf="!isActionExcluded(actionEnum.edit)"
           (click)="emitAction(actionEnum.edit)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#edit-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="disabled-item bg-lightest border-radius_8 cursor-pointer ml-16 h-32 w-32
               d-flex align-items-center justify-content-center"
           *ngIf="!isActionExcluded(actionEnum.refresh)"
           (click)="emitAction(actionEnum.refresh)"
      >
        <svg-icon-sprite
          [src]="'assets/sprites/sprite.svg#refresh'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 cursor-pointer ml-4 h-32 w-32 button-interaction
           d-flex align-items-center justify-content-center"
           *ngIf="!isActionExcluded(actionEnum.expand)"
           (click)="emitAction(actionEnum.expand)"
      >
        <svg-icon-sprite
          [src]="isTableModalShown ? 'assets/sprites/sprite.svg#shrink-icon' : 'assets/sprites/sprite.svg#expand-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>
    </div>
  </div>

  <section class="scrollable-container scrollable-container_grayscale-dark
                  align-items-start flex-1 d-flex align-content-stretch position-relative"
  >
    <div class="d-flex flex-column flex-1">
      <div class="filter-container min-h-64 p-16 d-flex align-items-center flex-wrap"
           *ngIf="data?.activeFilters"
      >
        <div class="filter border-radius_16 mr-8 mb-8 pt-4 pb-4 pl-8 pr-8 d-flex align-items-center">
          <div class="filter__circle rounded-circle h-16 w-16 mr-8"></div>
          <span class="mr-8">Тип авторизації: Пароль</span>
          <svg-icon-sprite
            class="cursor-pointer"
            [src]="'assets/sprites/sprite.svg#cross-circle-icon'"
            [classes]="'icon icon_16 icon_grayscale-darkest'"
          >
          </svg-icon-sprite>
        </div>

        <div class="filter border-radius_16 mr-8 mb-8 pt-4 pb-4 pl-8 pr-8 d-flex align-items-center">
          <div class="filter__circle rounded-circle h-16 w-16 mr-8"></div>
          <span class="mr-8">Розпочата: Від 01.01.2010, До 16.06.2022</span>
          <svg-icon-sprite
            class="cursor-pointer"
            [src]="'assets/sprites/sprite.svg#cross-circle-icon'"
            [classes]="'icon icon_16 icon_grayscale-darkest'"
          >
          </svg-icon-sprite>
        </div>

        <div class="filter border-radius_16 mr-8 mb-8 pt-4 pb-4 pl-8 pr-8 d-flex align-items-center">
          <div class="filter__circle rounded-circle h-16 w-16 mr-8"></div>
          <span class="mr-8">Тип авторизації: Пароль</span>
          <svg-icon-sprite
            class="cursor-pointer"
            [src]="'assets/sprites/sprite.svg#cross-circle-icon'"
            [classes]="'icon icon_16 icon_grayscale-darkest'"
          >
          </svg-icon-sprite>
        </div>

        <div class="filter border-radius_16 mr-8 mb-8 pt-4 pb-4 pl-8 pr-8 d-flex align-items-center">
          <div class="filter__circle rounded-circle h-16 w-16 mr-8"></div>
          <span class="mr-8">Розпочата: Від 01.01.2010, До 16.06.2022</span>
          <svg-icon-sprite
            class="cursor-pointer"
            [src]="'assets/sprites/sprite.svg#cross-circle-icon'"
            [classes]="'icon icon_16 icon_grayscale-darkest'"
          >
          </svg-icon-sprite>
        </div>
      </div>

      <div class="head divider-border position-sticky divider-border_with-last color-black h-72 d-flex align-items-center"
           [class.pl-20]="!tableOptions.isCheckboxShown"
      >
        <div class="w-64 h-100 flex-shrink-0 align-items-center justify-content-center"
             [class.d-none]="!tableOptions.isCheckboxShown"
             [class.d-flex]="tableOptions.isCheckboxShown"
        >
          <app-animated-checkbox></app-animated-checkbox>
        </div>

        <div class="w-64 h-100 d-flex flex-shrink-0 align-items-center justify-content-center"
             *ngIf="tableOptions?.expandable"
        ></div>

        <div class="table-item d-flex flex-shrink-0 align-items-center order-1"
             *ngFor="let field of tableOptions?.dataFields?.keys()"
             [class.w-64]="getFieldType(field) === fieldTypeEnum.photo"
             [ngStyle]="{
                'order': getFieldType(field) === fieldTypeEnum.photo ? 0 : 1
             }"
        >
          <ng-container *ngIf="getFieldType(field) !== fieldTypeEnum.photo">
            <div class="method-card__action bg-lightest icon_24 mr-7
                        d-flex flex-shrink-0 align-items-center justify-content-center"
                 [class.bg-primary-light]="isSortedUp(field) || isSortedDown(field)"
                 (click)="toggleSortByFilter(field)"
            >
              <svg-icon-sprite
                class="cursor-pointer"
                *ngIf="isNotSorted(field) && !isSortedUp(field) && !isSortedDown(field)"
                [src]="'assets/sprites/sprite.svg#filter-toggle-icon'"
                [classes]="'icon icon_12 icon_primary-normal'"
              >
              </svg-icon-sprite>

              <svg-icon-sprite
                class="cursor-pointer"
                *ngIf="isSortedUp(field)"
                [src]="'assets/sprites/sprite.svg#triangle-up-icon'"
                [classes]="'icon icon_12 icon_grayscale-white'"
              >
              </svg-icon-sprite>

              <svg-icon-sprite
                class="cursor-pointer rotate-180deg"
                *ngIf="isSortedDown(field)"
                [src]="'assets/sprites/sprite.svg#triangle-up-icon'"
                [classes]="'icon icon_12 icon_grayscale-white'"
              >
              </svg-icon-sprite>
            </div>

            <span class="text-regular" [textContent]="getHeadingField(field) | translate"></span>
          </ng-container>
        </div>

        <div class="text-right ml-auto mr-16 order-last"
             *ngIf="tableOptions?.itemActionsIcons"
        >
          Дії
        </div>
      </div>

      <div class="text_grayscale-dark p-16 w-100 d-flex justify-content-center align-items-center"
           *ngIf="data.tableData && data.tableData?.totalSize === 0"
      >
        Немає даних
      </div>

      <app-basic-table-item
        *ngFor="let item of data?.tableData?.items; let i = index; trackBy: tackByItems"
        [data]="item"
        [index]="i"
        [itemOptions]="tableOptions"
        [isControlsDisabled]="(isActionDisabled | async)!"
        (itemCopy)="onCopy($event)"
        (itemAction)="onItemAction($event)"
        (controlAction)="onControlAction($event, item)"
      ></app-basic-table-item>
    </div>
  </section>

  <div class="table-footer heading mt-auto h-62 pl-16 pr-16 w-100 d-flex align-items-center justify-content-between">
    <span class="label-regular">Відображено {{data?.tableData?.pageSize}} елемент(ів)</span>

    <div class="d-flex align-items-center">
      <span class="label-regular mr-8">Елементів на сторінку</span>

      <input class="base-input base-input_grayscale-light w-64 d-flex text-center"
             type="number"
             min="1"
             [formControl]="pageSizeControl">
    </div>

    <div class="h-32 d-flex align-items-center">
      <div class="bg-lightest border-radius_8 h-32 w-32 mr-4 d-flex justify-content-center align-items-center"
           (click)="paginationAction(paginationActionEnum.first)"
      >
        <svg-icon-sprite
          class="cursor-pointer"
          [src]="'assets/sprites/sprite.svg#next-skip'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 h-32 w-32 mr-4 d-flex justify-content-center align-items-center"
           (click)="paginationAction(paginationActionEnum.previous)"
      >
        <svg-icon-sprite
          class="cursor-pointer rotate-90deg"
          [src]="'assets/sprites/sprite.svg#arrow-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="table-footer__filter border-radius_8 h-40 mr-4 pt-6 pb-6 pl-12 pr-12">
        <span class="heading">{{data?.tableData?.pageNumber}} / {{totalPages}}</span>
      </div>

      <div class="bg-lightest border-radius_8 h-32 w-32 mr-4 d-flex justify-content-center align-items-center"
           (click)="paginationAction(paginationActionEnum.next)"
      >
        <svg-icon-sprite
          class="cursor-pointer rotate-90deg-reverse"
          [src]="'assets/sprites/sprite.svg#arrow-icon'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>

      <div class="bg-lightest border-radius_8 h-32 w-32 d-flex justify-content-center align-items-center"
           (click)="paginationAction(paginationActionEnum.last)"
      >
        <svg-icon-sprite
          class="cursor-pointer rotate-180deg"
          [src]="'assets/sprites/sprite.svg#next-skip'"
          [classes]="'icon icon_16 icon_primary-normal'"
        >
        </svg-icon-sprite>
      </div>
    </div>
  </div>
</section>
